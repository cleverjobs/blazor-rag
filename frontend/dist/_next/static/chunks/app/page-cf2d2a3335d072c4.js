(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{32751:(e,t,r)=>{Promise.resolve().then(r.bind(r,99944))},59434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(52596),a=r(39688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},87481:(e,t,r)=>{"use strict";r.d(t,{dj:()=>u});var s=r(12115);let a=0,n=new Map,o=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?o(r):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},i=[],d={toasts:[]};function c(e){d=l(d,e),i.forEach(e=>{e(d)})}function m(e){let{...t}=e,r=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function u(){let[e,t]=s.useState(d);return s.useEffect(()=>(i.push(t),()=>{let e=i.indexOf(t);e>-1&&i.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},99944:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>B});var s=r(95155),a=r(12115),n=r(49509);async function o(e){let t=n.env.NEXT_PUBLIC_CHAT_API_URL||"http://localhost:8000/api/chat";try{let r=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:e})});if(!r.ok){let e=await r.text();throw Error("API request failed with status ".concat(r.status,": ").concat(e))}let s=await r.json();if("string"!=typeof s.response)throw Error("Invalid response format from API");return s.response}catch(e){throw console.error("Error fetching chat response:",e),e}}var l=r(89677),i=r(73503),d=r(91721),c=r(59434),m=r(85977);let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(m.bL,{ref:t,className:(0,c.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...a})});u.displayName=m.bL.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(m._V,{ref:t,className:(0,c.cn)("aspect-square h-full w-full",r),...a})}).displayName=m._V.displayName;let f=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(m.H4,{ref:t,className:(0,c.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...a})});f.displayName=m.H4.displayName;var x=r(58497),p=r(38391);let h=e=>{let{language:t,value:r}=e;return(0,s.jsx)("div",{className:"my-2 rounded-md overflow-hidden bg-[#1e1e1e] font-code text-sm",children:(0,s.jsx)(x.A,{language:t,style:p.A,customStyle:{margin:0,padding:"1rem"},codeTagProps:{style:{fontFamily:"var(--font-code)",fontSize:"inherit"}},showLineNumbers:!1,children:r.trim()})})},g=/(```[\w-]*\n[\s\S]*?\n```)/g,b=e=>{let{message:t}=e,r="assistant"===t.role;return(0,s.jsxs)("div",{className:(0,c.cn)("flex items-start gap-4",r?"":"flex-row-reverse"),"data-testid":"message-bubble-".concat(t.role),children:[(0,s.jsx)(u,{className:"w-8 h-8 border",children:(0,s.jsx)(f,{className:(0,c.cn)(r?"bg-primary text-primary-foreground":"bg-accent text-accent-foreground"),children:r?(0,s.jsx)(i.A,{className:"w-5 h-5"}):(0,s.jsx)(d.A,{className:"w-5 h-5"})})}),(0,s.jsxs)("div",{className:(0,c.cn)("max-w-[75%] space-y-2"),children:[(0,s.jsx)("div",{className:(0,c.cn)("p-3 rounded-lg",r?"bg-muted rounded-bl-none":"bg-primary text-primary-foreground rounded-br-none"),children:(0,s.jsx)("div",{className:"text-sm prose prose-sm dark:prose-invert max-w-none",children:t.content.split(g).map((e,t)=>{if(e.match(g)){let r=e.match(/```(\w*)\n/),a=r?r[1]:"plaintext",n=e.replace(/```[\w-]*\n/,"").replace(/\n```/,"");return(0,s.jsx)(h,{language:a,value:n},t)}return e.split("\n").map((r,n)=>(0,s.jsxs)(a.Fragment,{children:[r,n<e.split("\n").length-1&&(0,s.jsx)("br",{})]},"".concat(t,"-").concat(n)))})})}),(0,s.jsx)("p",{className:(0,c.cn)("text-xs text-muted-foreground",r?"text-left":"text-right"),children:(0,l.m)(new Date(t.timestamp),{addSuffix:!0})})]})]})};function v(e){let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,c.cn)("animate-pulse rounded-md bg-muted",t),...r})}let y=e=>{let{messages:t,isLoading:r}=e,n=(0,a.useRef)(null);return(0,a.useEffect)(()=>{n.current&&(n.current.scrollTop=n.current.scrollHeight)},[t,r]),(0,s.jsx)("main",{ref:n,className:"flex-1 overflow-y-auto p-4 md:p-6","aria-live":"polite",role:"log","data-testid":"chat-window",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[t.map((e,t)=>(0,s.jsx)(b,{message:e},t)),r&&(0,s.jsxs)("div",{className:"flex items-start gap-4","data-testid":"loading-skeleton",children:[(0,s.jsx)(u,{className:"w-8 h-8 border",children:(0,s.jsx)(f,{className:"bg-primary text-primary-foreground",children:(0,s.jsx)(i.A,{className:"w-5 h-5"})})}),(0,s.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,s.jsx)(v,{className:"h-4 w-1/4"}),(0,s.jsx)(v,{className:"h-4 w-3/4"}),(0,s.jsx)(v,{className:"h-4 w-1/2"})]})]})]})})};var N=r(62177),j=r(90221),w=r(55594),S=r(87687),I=r(66634),T=r(74466);let A=(0,T.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),_=a.forwardRef((e,t)=>{let{className:r,variant:a,size:n,asChild:o=!1,...l}=e,i=o?I.DX:"button";return(0,s.jsx)(i,{className:(0,c.cn)(A({variant:a,size:n,className:r})),ref:t,...l})});_.displayName="Button";var E=r(40968);let O=(0,T.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),k=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(E.b,{ref:t,className:(0,c.cn)(O(),r),...a})});k.displayName=E.b.displayName;let D=N.Op,F=a.createContext({}),R=e=>{let{...t}=e;return(0,s.jsx)(F.Provider,{value:{name:t.name},children:(0,s.jsx)(N.xI,{...t})})},P=()=>{let e=a.useContext(F),t=a.useContext(C),{getFieldState:r,formState:s}=(0,N.xW)(),n=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=t;return{id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message"),...n}},C=a.createContext({}),z=a.forwardRef((e,t)=>{let{className:r,...n}=e,o=a.useId();return(0,s.jsx)(C.Provider,{value:{id:o},children:(0,s.jsx)("div",{ref:t,className:(0,c.cn)("space-y-2",r),...n})})});z.displayName="FormItem",a.forwardRef((e,t)=>{let{className:r,...a}=e,{error:n,formItemId:o}=P();return(0,s.jsx)(k,{ref:t,className:(0,c.cn)(n&&"text-destructive",r),htmlFor:o,...a})}).displayName="FormLabel";let M=a.forwardRef((e,t)=>{let{...r}=e,{error:a,formItemId:n,formDescriptionId:o,formMessageId:l}=P();return(0,s.jsx)(I.DX,{ref:t,id:n,"aria-describedby":a?"".concat(o," ").concat(l):"".concat(o),"aria-invalid":!!a,...r})});M.displayName="FormControl",a.forwardRef((e,t)=>{let{className:r,...a}=e,{formDescriptionId:n}=P();return(0,s.jsx)("p",{ref:t,id:n,className:(0,c.cn)("text-sm text-muted-foreground",r),...a})}).displayName="FormDescription",a.forwardRef((e,t)=>{var r;let{className:a,children:n,...o}=e,{error:l,formMessageId:i}=P(),d=l?String(null!=(r=null==l?void 0:l.message)?r:""):n;return d?(0,s.jsx)("p",{ref:t,id:i,className:(0,c.cn)("text-sm font-medium text-destructive",a),...o,children:d}):null}).displayName="FormMessage";let H=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("textarea",{className:(0,c.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...a})});H.displayName="Textarea";let L=w.z.object({message:w.z.string().min(1)}),V=e=>{let{onSendMessage:t,isLoading:r}=e,a=(0,N.mN)({resolver:(0,j.u)(L),defaultValues:{message:""}}),n=e=>{t(e.message),a.reset()},o=e=>{"Enter"===e.key&&!e.shiftKey&&(e.preventDefault(),!r&&a.getValues("message").trim()&&a.handleSubmit(n)())};return(0,s.jsx)("footer",{className:"p-4 border-t bg-background",children:(0,s.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,s.jsx)(D,{...a,children:(0,s.jsxs)("form",{onSubmit:a.handleSubmit(n),className:"flex items-start gap-4",children:[(0,s.jsx)(R,{control:a.control,name:"message",render:e=>{let{field:t}=e;return(0,s.jsx)(z,{className:"flex-1",children:(0,s.jsx)(M,{children:(0,s.jsx)(H,{...t,placeholder:"Ask about Telerik Grid virtualization...",className:"min-h-[48px] max-h-48 resize-y",onKeyDown:o,"aria-label":"Chat message input","data-testid":"message-input",autoFocus:!0})})})}}),(0,s.jsx)(_,{type:"submit",size:"icon",disabled:r||!a.getValues("message").trim(),"aria-label":"Send message","data-testid":"send-button",children:(0,s.jsx)(S.A,{className:"w-5 h-5"})})]})})})})};var U=r(87481);function B(){let[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!1),{toast:l}=(0,U.dj)();(0,a.useEffect)(()=>{try{let e=localStorage.getItem("chatHistory");e?t(JSON.parse(e)):t([{role:"assistant",content:"Hello! I'm a Telerik UI for Blazor expert. How can I help you today?",timestamp:new Date().toISOString()}])}catch(e){console.error("Failed to parse chat history from localStorage",e)}},[]),(0,a.useEffect)(()=>{try{e.length>1&&localStorage.setItem("chatHistory",JSON.stringify(e))}catch(e){console.error("Failed to save chat history to localStorage",e)}},[e]);let d=(0,a.useCallback)(async r=>{if(!r.trim())return;let s=[...e,{role:"user",content:r,timestamp:new Date().toISOString()}];t(s),n(!0);try{let e=await o(s),r={role:"assistant",content:e,timestamp:new Date().toISOString()};t(e=>[...e,r])}catch(r){console.error(r),l({variant:"destructive",title:"Error",description:"Failed to get a response from the server. Please try again."});let e={role:"assistant",content:"Sorry, I couldn't connect to the server. Please check your connection and try again.",timestamp:new Date().toISOString()};t(t=>[...t,e])}finally{n(!1)}},[e,l]);return(0,s.jsxs)("div",{className:"flex flex-col h-screen bg-background text-foreground",children:[(0,s.jsxs)("header",{className:"flex items-center p-4 border-b",children:[(0,s.jsx)(i.A,{className:"w-8 h-8 text-primary"}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("h1",{className:"text-xl font-bold font-headline",children:"Blazor Assistant"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Your guide to Telerik UI for Blazor"})]})]}),(0,s.jsx)(y,{messages:e,isLoading:r}),(0,s.jsx)(V,{onSendMessage:d,isLoading:r})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[757,522,441,684,358],()=>t(32751)),_N_E=e.O()}]);